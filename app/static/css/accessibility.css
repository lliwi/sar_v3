/* ==================================================================
   SAR Application - Accessibility Enhancements
   ================================================================== */

/* ==================================================================
   Enhanced Color System with WCAG Compliance
   ================================================================== */

:root {
    /* High Contrast Text Colors (WCAG AAA Compliant) */
    --text-aaa-contrast: #000000;        /* 21:1 ratio on white */
    --text-aa-contrast: #2d2d2d;         /* 12.6:1 ratio on white */
    --text-aa-large: #4a4a4a;            /* 7.3:1 ratio on white */
    
    /* Enhanced Primary Colors with Better Contrast */
    --primary-accessible: #0052cc;        /* Better contrast than #007bff */
    --primary-dark-accessible: #003d99;   /* Enhanced dark variant */
    --primary-light-accessible: #4285f4;  /* Lighter but still accessible */
    
    /* Enhanced State Colors for Better Visibility */
    --success-accessible: #1b5e20;        /* Darker green: 8.6:1 ratio */
    --warning-accessible: #e65100;        /* Orange with high contrast */
    --danger-accessible: #b71c1c;         /* Darker red: 9.4:1 ratio */
    --info-accessible: #0d47a1;           /* Darker blue: 10.7:1 ratio */
    
    /* Enhanced Background Colors */
    --bg-accessible-primary: #ffffff;     /* Pure white for maximum contrast */
    --bg-accessible-secondary: #f5f5f5;   /* Light gray with good contrast */
    --bg-accessible-tertiary: #eeeeee;    /* Slightly darker for hierarchy */
    
    /* Border Colors for Better Definition */
    --border-accessible-light: #bdbdbd;   /* 3.7:1 ratio - meets UI component requirement */
    --border-accessible-medium: #757575;  /* 4.6:1 ratio */
    --border-accessible-dark: #424242;    /* 9.7:1 ratio */
    
    /* Focus and Interactive States */
    --focus-ring-color: #005fcc;          /* High contrast focus indicator */
    --focus-ring-width: 2px;              /* Thicker focus ring for visibility */
    --focus-ring-style: solid;
    --focus-ring-offset: 2px;
    
    /* Shadow colors with better visibility */
    --shadow-accessible: rgba(0, 0, 0, 0.25); /* More visible shadows */
    --shadow-focus: 0 0 0 3px rgba(0, 95, 204, 0.3); /* Focus shadow */
}

/* ==================================================================
   High Contrast Theme for Maximum Accessibility
   ================================================================== */

[data-theme="high-contrast"] {
    --primary-color: #000080;             /* Navy blue: 12.1:1 ratio */
    --primary-dark: #000040;              /* Darker navy */
    --primary-light: #4040ff;             /* Accessible light blue */
    
    --secondary-color: #000000;           /* Pure black */
    --secondary-dark: #333333;
    --secondary-light: #666666;
    
    --success-color: #006400;             /* Dark green: 7.3:1 ratio */
    --warning-color: #ff8c00;             /* Dark orange with black text */
    --danger-color: #8b0000;              /* Dark red: 10.9:1 ratio */
    --info-color: #000080;                /* Navy blue */
    
    --bg-primary: #ffffff;                /* Pure white background */
    --bg-secondary: #ffffff;
    --text-primary: #000000;              /* Pure black text */
    --text-secondary: #000000;
    
    --sidebar-bg: #000000;                /* Pure black sidebar */
    --sidebar-text: #ffffff;              /* Pure white text */
    --sidebar-text-hover: #ffff00;        /* Yellow on hover for visibility */
    --sidebar-active-bg: #000080;         /* Navy active state */
    --sidebar-active-text: #ffffff;
    
    --border-color: #000000;              /* Black borders */
    --border-light: #333333;              /* Dark gray borders */
}

/* ==================================================================
   Enhanced Focus Management
   ================================================================== */

/* Enhanced focus indicators for keyboard navigation */
*:focus {
    outline: var(--focus-ring-width) var(--focus-ring-style) var(--focus-ring-color);
    outline-offset: var(--focus-ring-offset);
    box-shadow: var(--shadow-focus);
}

/* Remove default focus styles that are less accessible */
*:focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
}

/* Enhanced focus for form controls */
.form-control:focus,
.form-select:focus,
.form-check-input:focus {
    border-color: var(--focus-ring-color);
    outline: var(--focus-ring-width) var(--focus-ring-style) var(--focus-ring-color);
    outline-offset: var(--focus-ring-offset);
    box-shadow: var(--shadow-focus);
}

/* Enhanced focus for buttons */
.btn:focus {
    outline: var(--focus-ring-width) var(--focus-ring-style) var(--focus-ring-color);
    outline-offset: var(--focus-ring-offset);
    box-shadow: var(--shadow-focus);
}

/* ==================================================================
   Accessible Color Utilities
   ================================================================== */

/* Utility classes for high contrast text */
.text-aaa-contrast {
    color: var(--text-aaa-contrast) !important;
}

.text-aa-contrast {
    color: var(--text-aa-contrast) !important;
}

.text-accessible-success {
    color: var(--success-accessible) !important;
}

.text-accessible-warning {
    color: var(--warning-accessible) !important;
}

.text-accessible-danger {
    color: var(--danger-accessible) !important;
}

.text-accessible-info {
    color: var(--info-accessible) !important;
}

/* Background utilities with proper contrast */
.bg-accessible-primary {
    background-color: var(--bg-accessible-primary) !important;
    color: var(--text-aaa-contrast) !important;
}

.bg-accessible-secondary {
    background-color: var(--bg-accessible-secondary) !important;
    color: var(--text-aaa-contrast) !important;
}

/* ==================================================================
   Enhanced Interactive Elements
   ================================================================== */

/* Better button contrast */
.btn-accessible-primary {
    background-color: var(--primary-accessible);
    border-color: var(--primary-accessible);
    color: #ffffff;
}

.btn-accessible-primary:hover {
    background-color: var(--primary-dark-accessible);
    border-color: var(--primary-dark-accessible);
    color: #ffffff;
}

.btn-accessible-success {
    background-color: var(--success-accessible);
    border-color: var(--success-accessible);
    color: #ffffff;
}

.btn-accessible-warning {
    background-color: var(--warning-accessible);
    border-color: var(--warning-accessible);
    color: #ffffff;
}

/* ==================================================================
   Screen Reader and Assistive Technology Support
   ================================================================== */

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Skip navigation link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--primary-accessible);
    color: #ffffff;
    padding: 8px;
    text-decoration: none;
    border-radius: 3px;
    z-index: 9999;
    font-weight: bold;
}

.skip-link:focus {
    top: 6px;
    outline: 2px solid #ffffff;
    outline-offset: 2px;
}

/* ==================================================================
   Enhanced Error and Status Messages
   ================================================================== */

/* More accessible alert styling */
.alert-accessible {
    border: 2px solid;
    border-radius: var(--border-radius);
    padding: 1rem;
    margin-bottom: 1rem;
    position: relative;
    font-weight: 500;
}

.alert-accessible-success {
    background-color: #e8f5e8;
    border-color: var(--success-accessible);
    color: var(--success-accessible);
}

.alert-accessible-warning {
    background-color: #fff3e0;
    border-color: var(--warning-accessible);
    color: var(--warning-accessible);
}

.alert-accessible-danger {
    background-color: #ffebee;
    border-color: var(--danger-accessible);
    color: var(--danger-accessible);
}

.alert-accessible-info {
    background-color: #e3f2fd;
    border-color: var(--info-accessible);
    color: var(--info-accessible);
}

/* ==================================================================
   Form Accessibility Enhancements
   ================================================================== */

/* Required field indicator */
.required::after {
    content: " *";
    color: var(--danger-accessible);
    font-weight: bold;
    font-size: 1.1em;
}

/* Form validation styling */
.form-control.is-invalid {
    border-color: var(--danger-accessible);
    box-shadow: 0 0 0 0.2rem rgba(183, 28, 28, 0.25);
}

.form-control.is-valid {
    border-color: var(--success-accessible);
    box-shadow: 0 0 0 0.2rem rgba(27, 94, 32, 0.25);
}

.invalid-feedback {
    color: var(--danger-accessible);
    font-weight: 500;
}

.valid-feedback {
    color: var(--success-accessible);
    font-weight: 500;
}

/* ==================================================================
   Table Accessibility Enhancements
   ================================================================== */

/* Better table styling for screen readers */
.table-accessible th {
    background-color: var(--bg-accessible-secondary);
    color: var(--text-aaa-contrast);
    font-weight: 600;
    border: 1px solid var(--border-accessible-medium);
}

.table-accessible td {
    border: 1px solid var(--border-accessible-light);
    color: var(--text-aa-contrast);
}

.table-accessible tr:nth-child(even) {
    background-color: var(--bg-accessible-tertiary);
}

/* ==================================================================
   Motion and Animation Preferences
   ================================================================== */

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
    *,
    ::before,
    ::after {
        animation-delay: -1ms !important;
        animation-duration: 1ms !important;
        animation-iteration-count: 1 !important;
        background-attachment: initial !important;
        scroll-behavior: auto !important;
        transition-duration: 0s !important;
        transition-delay: 0s !important;
    }
}

/* ==================================================================
   Print Accessibility
   ================================================================== */

@media print {
    /* Ensure good contrast in print */
    * {
        color: #000000 !important;
        background: #ffffff !important;
    }
    
    /* Remove shadows and decorative elements */
    .card,
    .btn,
    .alert {
        box-shadow: none !important;
        border: 1px solid #000000 !important;
    }
    
    /* Ensure links are visible */
    a {
        color: #000000 !important;
        text-decoration: underline !important;
    }
}