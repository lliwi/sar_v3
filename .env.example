# Flask Configuration
FLASK_ENV=development
FLASK_DEBUG=True
SECRET_KEY=tu-clave-secreta-muy-segura
FLASK_PORT=5000

# Database Configuration
DATABASE_URL=postgresql://saruser:password@db:5432/sarapp
POSTGRES_DB=sarapp
POSTGRES_USER=saruser
POSTGRES_PASSWORD=tu-password-seguro
POSTGRES_PORT=5432
POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C
POSTGRES_MAX_CONNECTIONS=100

# Redis Configuration
REDIS_PORT=6379

# Session and Security
SESSION_TIMEOUT=3600
CSRF_TIMEOUT=3600
LOG_LEVEL=INFO
MAX_CONTENT_LENGTH=16777216

# LDAP Configuration
LDAP_HOST=ldap://tu-controlador-dominio.com
LDAP_BASE_DN=dc=empresa,dc=com
LDAP_USER_DN=ou=Users,dc=empresa,dc=com
LDAP_GROUP_DN=ou=Groups,dc=empresa,dc=com
LDAP_BIND_USER_DN=cn=cuenta-servicio,ou=Users,dc=empresa,dc=com
LDAP_BIND_USER_PASSWORD=password-cuenta-servicio
LDAP_ATTR_USER=cn
LDAP_ATTR_DEPARTMENT=department
LDAP_ATTR_EMAIL=mail
LDAP_ATTR_FIRSTNAME=givenName
LDAP_ATTR_LASTNAME=sn
LDAP_SEARCH_OUS=ou=Users,dc=empresa,dc=com
LDAP_CONNECTION_TIMEOUT=30
LDAP_SEARCH_TIMEOUT=60
LDAP_USE_SSL=false
LDAP_ADMIN_GROUPS=Domain Admins,Administrators,Enterprise Admins

# SMTP Configuration
SMTP_SERVER=smtp.empresa.com
SMTP_PORT=587
SMTP_USERNAME=noreply@empresa.com
SMTP_PASSWORD=password-smtp
SMTP_USE_TLS=true
SMTP_USE_SSL=false
SMTP_TIMEOUT=30
SMTP_FROM=noreply@empresa.com

# Admin Notifications
ADMIN_EMAIL=admin@empresa.com
ADMIN_NOTIFICATION_ENABLED=true

# Celery Configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_WORKER_PREFETCH_MULTIPLIER=1

# Airflow Configuration
AIRFLOW_API_URL=http://airflow:8080/api/v1
AIRFLOW_USERNAME=admin
AIRFLOW_PASSWORD=password-airflow
AIRFLOW_AUTH_TOKEN=
AIRFLOW_TIMEOUT=300
AIRFLOW_VERIFY_SSL=false
AIRFLOW_DAG_NAME=SAR_V3
AIRFLOW_RETRY_ATTEMPTS=3
AIRFLOW_RETRY_DELAY=60

# CSV Configuration
CSV_OUTPUT_DIR=/tmp/sar_csv_files
AD_DOMAIN_PREFIX=
AD_TARGET_DOMAIN=AUDI

# Application URLs
SERVER_URL=http://localhost:5000
BASE_URL=http://localhost:5000

# Task Management Configuration
TASK_PROCESSING_INTERVAL=300
TASK_MAX_RETRIES=3
TASK_RETRY_DELAY=300
TASK_CLEANUP_DAYS=30
TASK_BATCH_SIZE=10

# AD Synchronization Scheduler Configuration
AD_USER_SYNC_ENABLED=true
AD_GROUP_SYNC_ENABLED=true
AD_USER_PERMISSIONS_SYNC_ENABLED=true
# AD Synchronization Interval Configuration (in seconds)
AD_USER_SYNC_INTERVAL=600  # 10 minutes default
AD_GROUP_SYNC_INTERVAL=300  # 5 minutes default
AD_USER_PERMISSIONS_SYNC_INTERVAL=900  # 15 minutes default
SYNC_MAX_RETRIES=3
SYNC_RETRY_DELAY=60

# Feature Flags
ENABLE_TASK_MONITORING=true
ENABLE_AUTO_CLEANUP=true
ENABLE_AUDIT_LOGGING=true
ENABLE_EMAIL_NOTIFICATIONS=true

# AI Configuration (Opcional)
OLLAMA_BASE_URL=http://ollama:11434

# Background Sync Configuration - Batch Processing
# Procesa TODAS las carpetas activas divididas en lotes del tamaño especificado
BACKGROUND_SYNC_MAX_FOLDERS=50  # Carpetas por lote (no límite total)
BACKGROUND_SYNC_MAX_MEMBERS_PER_GROUP=200  # Máximo miembros por grupo AD
BACKGROUND_SYNC_BATCH_SIZE=25  # Tamaño lote para commits en base de datos
BACKGROUND_SYNC_ENABLE_FULL_SYNC=true  # Crear usuarios nuevos si no existen

# Security (Production)
# TALISMAN_FORCE_HTTPS=true